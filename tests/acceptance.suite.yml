# Codeception Test Suite Configuration
#
# Suite for acceptance tests.
# Perform tests in browser using the WebDriver or PhpBrowser.
# If you need both WebDriver and PHPBrowser tests - create a separate suite.

class_name: AcceptanceTester
modules:
    enabled:
        - WebDriver:
              url: http://moje-hospodareni.cz
              browser: chrome
              host: selenium.localhost
              wait: 10
              capabilities:
                  acceptInsecureCerts: true
                  chromeOptions:
                      args: ["allow-insecure-localhost","--ignore-ssl-errors=yes", "--ignore-certificate-errors","--headless", "--disable-gpu", "--no-sandbox", "--window-size=1920,1080"]

        - \Helper\Acceptance

        - \Helper\WaitForDb
        - Db:
            dsn: "mysql:host=%DB_HOST%;dbname=%DB_NAME%"
            user: "%DB_USER%"
            password: "%DB_PASSWORD%"
            populate: true
            dump: 'tests/_data/acceptance_init.sql'
            wait: 2
